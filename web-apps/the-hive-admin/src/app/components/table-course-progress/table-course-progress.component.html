  <mat-form-field>
    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter" />
  </mat-form-field>
  <div class="mat-elevation-z8">
    <table
    mat-table
    #table
    class="full-width-table"
    [dataSource]="dataSource"
    matSort
  >
    <!-- CourseId Column -->
    <ng-container matColumnDef="upn">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>UPN</th>
      <td mat-cell *matCellDef="let row">{{ row.upn }}</td>
    </ng-container>
    <ng-container matColumnDef="courseId">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Course ID</th>
      <td mat-cell *matCellDef="let row">{{ row.courseId }}</td>
    </ng-container>
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Course Name</th>
      <td mat-cell *matCellDef="let row">{{ row.name }}</td>
    </ng-container>
    <ng-container matColumnDef="sectionsInCourse">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Total Sections</th>
      <td mat-cell *matCellDef="let row">{{ row.sectionsInCourse }}</td>
    </ng-container>
    <ng-container matColumnDef="sectionsDone">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        Completed Sections
      </th>
      <td mat-cell *matCellDef="let row">{{ row.sectionsDone }}</td>
    </ng-container>
    <ng-container matColumnDef="percentage">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Progress %</th>
      <td mat-cell *matCellDef="let row">{{ row.percentage }}</td>
    </ng-container>
    <ng-container matColumnDef="nextSectionId">
      <th mat-header-cell *matHeaderCellDef>Next Section ID</th>
      <td mat-cell *matCellDef="let row">
        {{completionStatusForSectionId(row)}}
      </td>
    </ng-container>
    <ng-container matColumnDef="nextSectionCode">
      <th mat-header-cell *matHeaderCellDef>
        Next Section Code
      </th>
      <td mat-cell *matCellDef="let row">
        {{completionStatusForSectionCode(row)}}
      </td>
    </ng-container>
    <ng-container matColumnDef="totalTimeOnCourse">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Time Spent on Course</th>
      <td mat-cell *matCellDef="let row">{{ row.totalTimeOnCourse }}</td>
    </ng-container>
    <ng-container matColumnDef="averageTimeOnSection">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Average Time Spent per Section</th>
      <td mat-cell *matCellDef="let row">{{ row.averageTimeOnSection }}</td>
    </ng-container>
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef> Actions </th>
      <td mat-cell *matCellDef="let row"> 
        <button mat-raised-button color="warn" (click)="resetProgress(row)" type="button" matTooltip="Reset Progress" matTooltipShowDelay="1000">
          <mat-icon>restart_alt</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
  <mat-paginator
    #paginator
    [length]="dataSource.data.length"
    [pageIndex]="0"
    [pageSize]="tableService.getPageSize()"
    [pageSizeOptions]="tableService.getPageSizeOptions()"
    [showFirstLastButtons]="tableService.getShowFirstLastButtons()"
    [hidePageSize]="tableService.getHidePageSize()"
  >
  </mat-paginator>
  </div>
